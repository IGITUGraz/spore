<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>SPORE: spore::SynapticSamplingRewardGradientConnection&lt; targetidentifierT &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NEST module SPORE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacespore.html">spore</a></li><li class="navelem"><a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html">SynapticSamplingRewardGradientConnection</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classspore_1_1SynapticSamplingRewardGradientConnection-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">spore::SynapticSamplingRewardGradientConnection&lt; targetidentifierT &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Reward-based synaptic sampling connection class.  
 <a href="classspore_1_1SynapticSamplingRewardGradientConnection.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="synaptic__sampling__rewardgradient__connection_8h_source.html">synaptic_sampling_rewardgradient_connection.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for spore::SynapticSamplingRewardGradientConnection&lt; targetidentifierT &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classspore_1_1SynapticSamplingRewardGradientConnection__inherit__graph.png" border="0" usemap="#spore_1_1SynapticSamplingRewardGradientConnection_3_01targetidentifierT_01_4_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for spore::SynapticSamplingRewardGradientConnection&lt; targetidentifierT &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classspore_1_1SynapticSamplingRewardGradientConnection__coll__graph.png" border="0" usemap="#spore_1_1SynapticSamplingRewardGradientConnection_3_01targetidentifierT_01_4_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:af001fdaff51333b8945684ebc21e3118"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af001fdaff51333b8945684ebc21e3118"></a>
typedef <br class="typebreak" />
<a class="el" href="classspore_1_1SynapticSamplingRewardGradientCommonProperties.html">SynapticSamplingRewardGradientCommonProperties</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html#af001fdaff51333b8945684ebc21e3118">CommonPropertiesType</a></td></tr>
<tr class="memdesc:af001fdaff51333b8945684ebc21e3118"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type to use for representing common synapse properties. <br /></td></tr>
<tr class="separator:af001fdaff51333b8945684ebc21e3118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae947cfb6d704d7d62afaa3a7665f26b3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae947cfb6d704d7d62afaa3a7665f26b3"></a>
typedef nest::Connection<br class="typebreak" />
&lt; targetidentifierT &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html#ae947cfb6d704d7d62afaa3a7665f26b3">ConnectionBase</a></td></tr>
<tr class="memdesc:ae947cfb6d704d7d62afaa3a7665f26b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shortcut for base class. <br /></td></tr>
<tr class="separator:ae947cfb6d704d7d62afaa3a7665f26b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af6df0290de0c2375aaf78d5300c64be6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html#af6df0290de0c2375aaf78d5300c64be6">SynapticSamplingRewardGradientConnection</a> ()</td></tr>
<tr class="separator:af6df0290de0c2375aaf78d5300c64be6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a51e2bb57ed5a2c24f213fbe16b74fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html#a6a51e2bb57ed5a2c24f213fbe16b74fc">SynapticSamplingRewardGradientConnection</a> (const <a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html">SynapticSamplingRewardGradientConnection</a>&lt; targetidentifierT &gt; &amp;rhs)</td></tr>
<tr class="separator:a6a51e2bb57ed5a2c24f213fbe16b74fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83db2da4c299e01d517c126e8aa2f5fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html#a83db2da4c299e01d517c126e8aa2f5fa">~SynapticSamplingRewardGradientConnection</a> ()</td></tr>
<tr class="separator:a83db2da4c299e01d517c126e8aa2f5fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20d3e1ba0367bc20e9a1e185ad4a8e0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html#a20d3e1ba0367bc20e9a1e185ad4a8e0a">check_connection</a> (nest::Node &amp;s, nest::Node &amp;t, nest::rport receptor_type, double t_lastspike, const <a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html#af001fdaff51333b8945684ebc21e3118">CommonPropertiesType</a> &amp;cp)</td></tr>
<tr class="separator:a20d3e1ba0367bc20e9a1e185ad4a8e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4d9605fd130a7503cb7e869e4334377"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html#ad4d9605fd130a7503cb7e869e4334377">get_status</a> (DictionaryDatum &amp;d) const </td></tr>
<tr class="separator:ad4d9605fd130a7503cb7e869e4334377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e69452b8a5c6bf45613beab787e2996"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html#a0e69452b8a5c6bf45613beab787e2996">set_status</a> (const DictionaryDatum &amp;d, nest::ConnectorModel &amp;cm)</td></tr>
<tr class="memdesc:a0e69452b8a5c6bf45613beab787e2996"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status setter function.  <a href="#a0e69452b8a5c6bf45613beab787e2996">More...</a><br /></td></tr>
<tr class="separator:a0e69452b8a5c6bf45613beab787e2996"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd7d033cb6510c8aaae2275741c11976"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html#abd7d033cb6510c8aaae2275741c11976">send</a> (nest::Event &amp;e, nest::thread t, double t_lastspike, const <a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html#af001fdaff51333b8945684ebc21e3118">CommonPropertiesType</a> &amp;cp)</td></tr>
<tr class="separator:abd7d033cb6510c8aaae2275741c11976"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename targetidentifierT&gt;<br />
class spore::SynapticSamplingRewardGradientConnection&lt; targetidentifierT &gt;</h3>

<p>Reward-based synaptic sampling connection class. </p>
<p><a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html" title="Reward-based synaptic sampling connection class. ">SynapticSamplingRewardGradientConnection</a> - Synapse implementing reward-based learning through synaptic sampling. This class implements the model in [1,2]. This connection is a diligent synapse model, therefore updates are triggered on a regular interval which is ensured by the <a class="el" href="classspore_1_1ConnectionUpdateManager.html" title="Class that manages updating diligent synapses. ">ConnectionUpdateManager</a>. The target node and the reward transmitter must be derived from the <a class="el" href="classspore_1_1TracingNode.html" title="Base class to all nodes that record traces. ">TracingNode</a> model.</p>
<p><b>Parameters</b></p>
<p>The following parameters can be set in the common properties dictionary (default values and constraints are given in parentheses, corresponding symbols in the equations given below and in [1,2] are given in braces): </p><table class="doxtable">
<tr>
<th>name </th><th>type </th><th>comment </th></tr>
<tr>
<td><em>learning_rate</em>  </td><td>double </td><td>learning rate (5e-08, &ge;0.0) { <img class="formulaInl" alt="$\beta$" src="form_36.png"/>} </td></tr>
<tr>
<td><em>temperature</em>  </td><td>double </td><td>amplitude of parameter noise (0.1, &ge;0.0) { <img class="formulaInl" alt="$T_\theta$" src="form_37.png"/>} </td></tr>
<tr>
<td><em>gradient_noise</em>  </td><td>double </td><td>amplitude of gradient noise (0.0, &ge;0.0) { <img class="formulaInl" alt="$T_g$" src="form_38.png"/>} </td></tr>
<tr>
<td><em>psp_tau_rise</em>  </td><td>double </td><td>double exponential PSP kernel rise (2.0, &gt;0.0) [ms] { <img class="formulaInl" alt="$\tau_r$" src="form_27.png"/>} </td></tr>
<tr>
<td><em>psp_tau_fall</em>  </td><td>double </td><td>double exponential PSP kernel decay (20.0, &gt;0.0) [ms] { <img class="formulaInl" alt="$\tau_m$" src="form_26.png"/>} </td></tr>
<tr>
<td><em>psp_cutoff_amplitude</em>  </td><td>double </td><td>psp is clipped to 0 below this value (0.0001, &ge;0.0) { <img class="formulaInl" alt="$\tau_m$" src="form_26.png"/>} </td></tr>
<tr>
<td><em>integration_time</em>  </td><td>double </td><td>time of gradient integration (50000.0, &gt;0.0) [ms] { <img class="formulaInl" alt="$\tau_g$" src="form_45.png"/>} </td></tr>
<tr>
<td><em>episode_length</em>  </td><td>double </td><td>length of eligibility trace (0.0001, &gt;0.0) [ms] { <img class="formulaInl" alt="$\tau_e$" src="form_46.png"/>} </td></tr>
<tr>
<td><em>weight_update_interval</em>  </td><td>double </td><td>interval of synaptic weight updates (100.0, &gt;0.0) [ms] </td></tr>
<tr>
<td><em>parameter_mapping_offset</em>  </td><td>double </td><td>offset parameter for computing synaptic weight (3.0) { <img class="formulaInl" alt="$\theta_0$" src="form_47.png"/>} </td></tr>
<tr>
<td><em>direct_gradient_rate</em>  </td><td>double </td><td>rate of directly applying changes to the synaptic parameter (0.0) { <img class="formulaInl" alt="$c_e$" src="form_51.png"/>} </td></tr>
<tr>
<td><em>gradient_scale</em>  </td><td>double </td><td>scaling parameter for the gradient (1.0) { <img class="formulaInl" alt="$c_g$" src="form_52.png"/>} </td></tr>
<tr>
<td><em>max_param</em>  </td><td>double </td><td>maximum synaptic parameter (5.0) </td></tr>
<tr>
<td><em>min_param</em>  </td><td>double </td><td>minimum synaptic parameter (-2.0) </td></tr>
<tr>
<td><em>max_param_change</em>  </td><td>double </td><td>maximum synaptic parameter change (40.0, &ge;0.0)  </td></tr>
<tr>
<td><em>reward_transmitter</em>  </td><td>long </td><td>GID of the synapse's reward transmitter* </td></tr>
<tr>
<td><em>bap_trace_id</em>  </td><td>long </td><td>ID of the BAP trace (0, &ge;0) </td></tr>
<tr>
<td><em>dopa_trace_id</em>  </td><td>long </td><td>ID of the dopamine trace (0, &ge;0) </td></tr>
<tr>
<td><em>simulate_retracted_synapses</em>  </td><td>bool </td><td>continue simulating retracted synapses (false) </td></tr>
<tr>
<td><em>delete_retracted_synapses</em>  </td><td>bool </td><td>delete retracted synapses (false) </td></tr>
<tr>
<td><em>verbose</em>  </td><td>bool </td><td>write status to the standard output (false)  </td></tr>
</table>
<p>*) <em>reward_transmitter</em> must be set to the GID of a <a class="el" href="classspore_1_1TracingNode.html" title="Base class to all nodes that record traces. ">TracingNode</a> before simulation startup.</p>
<p>The following parameters can be set in the status dictionary: </p><table class="doxtable">
<tr>
<th>name </th><th>type </th><th>comment </th></tr>
<tr>
<td><em>synaptic_parameter</em>  </td><td>double </td><td>initial synaptic parameter ( <img class="formulaInl" alt="$\theta$" src="form_8.png"/>) </td></tr>
<tr>
<td><em>weight</em>  </td><td>double </td><td>current synaptic weight ( <img class="formulaInl" alt="$w$" src="form_9.png"/>) </td></tr>
<tr>
<td><em>eligibility_trace</em>  </td><td>double </td><td>current eligibility trace ( <img class="formulaInl" alt="$e$" src="form_11.png"/>) </td></tr>
<tr>
<td><em>reward_gradient</em>  </td><td>double </td><td>current reward gradient ( <img class="formulaInl" alt="$g$" src="form_12.png"/>) </td></tr>
<tr>
<td><em>prior_mean</em>  </td><td>double </td><td>mean of the prior ( <img class="formulaInl" alt="$\mu$" src="form_10.png"/>) </td></tr>
<tr>
<td><em>prior_inverse_variance</em>  </td><td>double </td><td>inverse variance of the prior <img class="formulaInl" alt="$(1/\sigma^2)$" src="form_7.png"/> </td></tr>
<tr>
<td><em>recorder_times</em>  </td><td>double </td><td>time points of parameter recordings </td></tr>
<tr>
<td><em>weight_values</em>  </td><td>double </td><td>array of recorded synaptic weight values </td></tr>
<tr>
<td><em>synaptic_parameter_values</em>  </td><td>double </td><td>array of recorded synaptic parameter values  </td></tr>
<tr>
<td><em>reward_gradient_values</em>  </td><td>double </td><td>array of recorded reward gradient values </td></tr>
<tr>
<td><em>eligibility_trace_values</em>  </td><td>double </td><td>array of recorded eligibility trace values </td></tr>
<tr>
<td><em>psp_values</em>  </td><td>double </td><td>array of recorded psp values </td></tr>
<tr>
<td><em>recorder_interval</em>  </td><td>double </td><td>interval of synaptic recordings [ms] </td></tr>
<tr>
<td><em>reset_recorder</em>  </td><td>bool </td><td>clear all recorded values now* (write only)  </td></tr>
</table>
<p>*) if <em>reset_recorder</em> is set to <code>true</code> all recorded fields will be erased instantaneously.</p>
<p><b>Implementation Details</b></p>
<p>The state of each synapse consists of the variables <img class="formulaInl" alt="$y(t), e(t), g(t), \theta(t), w(t)$" src="form_20.png"/>. The variable <img class="formulaInl" alt="$y(t)$" src="form_21.png"/> is the presynaptic spike train filtered with a PSP kernel <img class="formulaInl" alt="$\epsilon(t)$" src="form_23.png"/> of the form </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \epsilon(t) \;=\; \frac{\tau_r}{\tau_m - \tau_r}\left( e^{-\frac{1}{\tau_m}} - e^{-\frac{1}{\tau_r}} \right)\;. \]" src="form_24.png"/>
</p>
<p> A node derived from type <a class="el" href="classspore_1_1TracingNode.html" title="Base class to all nodes that record traces. ">TracingNode</a> must be registered to the synapse model at its <em>reward_transmitter</em> parameter. The trace of this node at id <em>dopa_trace_id</em> is used as reward signal <img class="formulaInl" alt="$dopa(t)$" src="form_49.png"/>. The postsynaptic neuron must also be derived from type <a class="el" href="classspore_1_1TracingNode.html" title="Base class to all nodes that record traces. ">TracingNode</a>. Its trace with id <em>bap_trace_id</em> is used as back-propagating signal <img class="formulaInl" alt="$bap(t)$" src="form_50.png"/>. The synapse then solves the following set of differential equations: </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \frac{d e(t)}{dt} \;=\; -\frac{1}{\tau_e} e(t) \,+\, w(t)\,y(t)\,bap(t) \]" src="form_28.png"/>
</p>
 <p class="formulaDsp">
<img class="formulaDsp" alt="\[ \frac{d g(t)}{dt} \;=\; -\frac{1}{\tau_g} g(t) \,+\, dopa(t)\,e(t) \,+\, T_g\,d \mathcal{W}_g \]" src="form_31.png"/>
</p>
 <p class="formulaDsp">
<img class="formulaDsp" alt="\[ d \theta(t) \;=\; \beta\,\left( \frac{1}{\sigma^2} (\mu - \theta(t)) + c_g\,g(t) + c_e \, dopa(t) \,e(t) \right) dt \,+\, \sqrt{ 2 T_\theta \beta } \mathcal{W}_{\theta} \]" src="form_53.png"/>
</p>
 <p class="formulaDsp">
<img class="formulaDsp" alt="\[ w(t) \;=\; \exp ( \theta(t) - \theta_0 ) \]" src="form_34.png"/>
</p>
<p> The dynamics of the postsynaptic term <img class="formulaInl" alt="$y(t)$" src="form_21.png"/>, the eligibility trace <img class="formulaInl" alt="$e(t)$" src="form_59.png"/> and the reward gradient <img class="formulaInl" alt="$g(t)$" src="form_55.png"/> are updated at each NEST time step. The dynamics of <img class="formulaInl" alt="$\theta(t)$" src="form_56.png"/> and <img class="formulaInl" alt="$w(t)$" src="form_57.png"/> are updated on a time grid based on <em>weight_update_interval</em>. The synaptic weights remain constant between two updates. The synapse recorder is only invoked after each weight update which means that <em>recorder_interval</em> must be a multiple of <em>weight_update_interval</em>. Synaptic parameters are clipped at <em>min_param</em> and <em>max_param</em>. Parameter gradients are clipped at +/- <em>max_param_change</em>. If <em>simulate_retracted_synapses</em> is set to <code>false</code> simulation of <img class="formulaInl" alt="$y(t), e(t)$" src="form_54.png"/> and <img class="formulaInl" alt="$g(t)$" src="form_55.png"/> is not continued if <img class="formulaInl" alt="$\theta(t)$" src="form_56.png"/> falls below 0 (retracted synapse). This means that only the stochastic dynamics of <img class="formulaInl" alt="$\theta(t)$" src="form_56.png"/> are simulated until the synapse is reformed again. During this time, the reward gradient <img class="formulaInl" alt="$g(t)$" src="form_55.png"/> is fixed to 0. If <em>delete_retracted_synapses</em> is set to <code>true</code>, retracted synapses will be removed from the network using the garbage collector of the <a class="el" href="classspore_1_1ConnectionUpdateManager.html" title="Class that manages updating diligent synapses. ">ConnectionUpdateManager</a>.</p>
<p><b>References</b></p>
<p>[1] David Kappel, Robert Legenstein, Stefan Habenschuss, Michael Hsieh and Wolfgang Maass. <em>Reward-based self-configuration of neural circuits.</em> In preparation (available on request from the authors).</p>
<p>[2] Zhaofei Yu, David Kappel, Robert Legenstein, Sen Song, Feng Chen and Wolfgang Maass. <em>CaMKII activation supports reward-based neural network optimization through Hamiltonian sampling.</em> 2016. <a href="https://arxiv.org/abs/1606.00157">https://arxiv.org/abs/1606.00157</a></p>
<dl class="section author"><dt>Author</dt><dd>David Kappel, Michael Hsieh</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classspore_1_1TracingNode.html" title="Base class to all nodes that record traces. ">TracingNode</a>, <a class="el" href="classspore_1_1DiligentConnectorModel.html" title="Connector model for diligent connections. ">DiligentConnectorModel</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af6df0290de0c2375aaf78d5300c64be6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename targetidentifierT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html">spore::SynapticSamplingRewardGradientConnection</a>&lt; targetidentifierT &gt;::<a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html">SynapticSamplingRewardGradientConnection</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Default Constructor. </p>

</div>
</div>
<a class="anchor" id="a6a51e2bb57ed5a2c24f213fbe16b74fc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename targetidentifierT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html">spore::SynapticSamplingRewardGradientConnection</a>&lt; targetidentifierT &gt;::<a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html">SynapticSamplingRewardGradientConnection</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html">SynapticSamplingRewardGradientConnection</a>&lt; targetidentifierT &gt; &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy Constructor. </p>

</div>
</div>
<a class="anchor" id="a83db2da4c299e01d517c126e8aa2f5fa"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename targetidentifierT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html">spore::SynapticSamplingRewardGradientConnection</a>&lt; targetidentifierT &gt;::~<a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html">SynapticSamplingRewardGradientConnection</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a20d3e1ba0367bc20e9a1e185ad4a8e0a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename targetidentifierT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html">spore::SynapticSamplingRewardGradientConnection</a>&lt; targetidentifierT &gt;::check_connection </td>
          <td>(</td>
          <td class="paramtype">nest::Node &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nest::Node &amp;&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nest::rport&#160;</td>
          <td class="paramname"><em>receptor_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t_lastspike</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html#af001fdaff51333b8945684ebc21e3118">CommonPropertiesType</a> &amp;&#160;</td>
          <td class="paramname"><em>cp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks if the type of the postsynaptic node is supported. Throws an <em>IllegalConnection</em> exception if the postsynaptic node is not derived from <a class="el" href="classspore_1_1TracingNode.html" title="Base class to all nodes that record traces. ">TracingNode</a>. </p>

</div>
</div>
<a class="anchor" id="ad4d9605fd130a7503cb7e869e4334377"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename targetidentifierT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html">spore::SynapticSamplingRewardGradientConnection</a>&lt; targetidentifierT &gt;::get_status </td>
          <td>(</td>
          <td class="paramtype">DictionaryDatum &amp;&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Status getter function. </p>

</div>
</div>
<a class="anchor" id="abd7d033cb6510c8aaae2275741c11976"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename targetidentifierT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html">spore::SynapticSamplingRewardGradientConnection</a>&lt; targetidentifierT &gt;::send </td>
          <td>(</td>
          <td class="paramtype">nest::Event &amp;&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nest::thread&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t_last_spike</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html#af001fdaff51333b8945684ebc21e3118">CommonPropertiesType</a> &amp;&#160;</td>
          <td class="paramname"><em>cp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send an event to the postsynaptic neuron. This will update the synapse state and synaptic weights to the current slice origin and send the spike event. This method is also triggered by the <a class="el" href="classspore_1_1ConnectionUpdateManager.html" title="Class that manages updating diligent synapses. ">ConnectionUpdateManager</a> to indicate that the synapse is running out of date. In this case an invalid rport of -1 is passed and the spike is not delivered to the postsynaptic neuron.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>the spike event. </td></tr>
    <tr><td class="paramname">thread</td><td>the id of the connections thread. </td></tr>
    <tr><td class="paramname">t_last_spike</td><td>the time of the last spike. </td></tr>
    <tr><td class="paramname">cp</td><td>the synapse type common properties. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0e69452b8a5c6bf45613beab787e2996"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename targetidentifierT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classspore_1_1SynapticSamplingRewardGradientConnection.html">spore::SynapticSamplingRewardGradientConnection</a>&lt; targetidentifierT &gt;::set_status </td>
          <td>(</td>
          <td class="paramtype">const DictionaryDatum &amp;&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nest::ConnectorModel &amp;&#160;</td>
          <td class="paramname"><em>cm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Status setter function. </p>
<p><code>weight</code> will be overwritten next time when the synapse is updated. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="synaptic__sampling__rewardgradient__connection_8h_source.html">synaptic_sampling_rewardgradient_connection.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 12 2017 16:53:56 for SPORE by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
